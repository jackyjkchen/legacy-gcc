diff --git a/usr/include/gnu/types.h b/usr/include/gnu/types.h
index b708710..ad8dd44 100644
--- a/usr/include/gnu/types.h
+++ b/usr/include/gnu/types.h
@@ -101,10 +101,14 @@ typedef struct __fd_set {
 	__result; })
 
 #define __FD_ZERO(fdsetp) \
+do { \
+	int __d0, __d1; \
 	__asm__ __volatile__("cld ; rep ; stosl" \
-        	:"=m" (*(__fd_set *) (fdsetp)) \
-        	:"a" (0), "c" (__FDSET_LONGS), \
-		"D" ((__fd_set *) (fdsetp)) :"cx","di")
+			:"=m" (*(__kernel_fd_set *) (fdsetp)), \
+			  "=&c" (__d0), "=&D" (__d1) \
+			:"a" (0), "1" (__FDSET_LONGS), \
+			"2" ((__kernel_fd_set *) (fdsetp)) : "memory"); \
+} while (0)
 
 #endif /* __NFDBITS */
 
diff --git a/usr/include/string.h b/usr/include/string.h
index 2ef8e4e..b2c5797 100644
--- a/usr/include/string.h
+++ b/usr/include/string.h
@@ -32,12 +32,9 @@ __BEGIN_DECLS
 #define	__need_NULL
 #include <stddef.h>
 
-/* `memcpy' is a built-in function for gcc 2.x. */
-#if defined(__STDC__) && __GNUC__ < 2
 /* Copy N bytes of SRC to DEST.  */
 extern __ptr_t memcpy __P ((__ptr_t __dest, __const __ptr_t __src,
 			    size_t __n));
-#endif
 
 /* Copy N bytes of SRC to DEST, guaranteeing
    correct behavior for overlapping strings.  */
@@ -61,12 +58,9 @@ extern __ptr_t memccpy __P ((__ptr_t __dest, __const __ptr_t __src,
 /* Set N bytes of S to C.  */
 extern __ptr_t memset __P ((__ptr_t __s, int __c, size_t __n));
 
-/* `memcmp' is a built-in function for gcc 2.x. */
-#if defined(__STDC__) && __GNUC__ < 2
 /* Compare N bytes of S1 and S2.  */
 extern int memcmp __P ((__const __ptr_t __s1, __const __ptr_t __s2,
 			size_t __n));
-#endif
 
 /* Search N bytes of S for C.  */
 extern __ptr_t memchr __P ((__const __ptr_t __s, int __c, size_t __n));

diff --git a/libgfortran/io/unix.c b/libgfortran/io/unix.c
index 185d0dca1..f418e4d77 100644
--- a/libgfortran/io/unix.c
+++ b/libgfortran/io/unix.c
@@ -98,6 +98,12 @@ id_from_fd (const int fd)
 }
 
 #endif /* HAVE_WORKING_STAT */
+
+
+/* On mingw, we don't use umask in tempfile_open(), because it
+   doesn't support the user/group/other-based permissions.  */
+#undef HAVE_UMASK
+
 #endif /* __MINGW32__ */
 
 
